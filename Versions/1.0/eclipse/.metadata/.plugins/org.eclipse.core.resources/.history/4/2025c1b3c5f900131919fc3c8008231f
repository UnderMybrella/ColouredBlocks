package org.abimon.mods.minecraft.colouredBlocks;

import java.util.List;

import cpw.mods.fml.relauncher.Side;
import cpw.mods.fml.relauncher.SideOnly;
import net.minecraft.block.Block;
import net.minecraft.block.material.Material;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.entity.item.EntityItem;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.init.Items;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.util.IIcon;
import net.minecraft.world.IBlockAccess;
import net.minecraft.world.World;

public class BlockDye extends Block 
{

	protected BlockDye() {
		super(Material.rock);
	}
	
    public int damageDropped(int meta)
    {
    	return meta;
    }

    /**
     * Gets the block's texture. Args: side, meta
     */
    @SideOnly(Side.CLIENT)
    public IIcon getIcon(int p_149691_1_, int p_149691_2_)
    {
        return Blocks.quartz_block.getIcon(p_149691_1_, 0);
    }
    
    @SideOnly(Side.CLIENT)
    public void getSubBlocks(Item item, CreativeTabs tab, List list)
    {
    	for(int i = 0; i < 16; i++)
    		list.add(new ItemStack(item, 1, i));
    }
    
    @SideOnly(Side.CLIENT)
    public int colorMultiplier(IBlockAccess access, int x, int y, int z)
    {
    	switch(access.getBlockMetadata(x, y, z))
    	{
    	case 0:
    		return 1644825;
    	case 1:
    		return 10040115;
    	case 2:
    		return 6717235;
    	case 3:
    		return 6704179;
    	case 4:
    		return 3361970;
    	case 5:
    		return 8339378;
    	case 6:
    		return 5013401;
    	case 7:
    		return 10066329;
    	case 8:
    		return 5000268;
    	case 9:
    		return 15892389;
    	case 10:
    		return 8375321;
    	case 11:
    		return 15066419;
    	case 12:
    		return 6724056;
    	case 13:
    		return 11685080;
    	case 14:
    		return 14188339;
    	default:
    		return 16777215;
    	}
    }
    
    @SideOnly(Side.CLIENT)
    public int getRenderColor(int meta)
    {
    	switch(meta)
    	{
    	case 0:
    		return 1644825;
    	case 1:
    		return 10040115;
    	case 2:
    		return 6717235;
    	case 3:
    		return 6704179;
    	case 4:
    		return 3361970;
    	case 5:
    		return 8339378;
    	case 6:
    		return 5013401;
    	case 7:
    		return 10066329;
    	case 8:
    		return 5000268;
    	case 9:
    		return 15892389;
    	case 10:
    		return 8375321;
    	case 11:
    		return 15066419;
    	case 12:
    		return 6724056;
    	case 13:
    		return 11685080;
    	case 14:
    		return 14188339;
    	default:
    		return 16777215;
    	}
    }
    

	public boolean onBlockActivated(World world, int x, int y, int z, EntityPlayer player, int face, float posX, float posY, float posZ)
	{
		if(!world.isRemote)
		{
			if(player.isSneaking())
				if(world.canMineBlock(player, x, y, z))
				{
					world.setBlockToAir(x, y, z);
					EntityItem quartz = new EntityItem(world, x, y, z, new ItemStack(Blocks.quartz_block, 1));
					EntityItem quartz = new EntityItem(world, x, y, z, new ItemStack(Items.dye, 8, world.getBlockMetadata(x, y, z)));
					world.spawnEntityInWorld(quartz)
				}
		}
	}
	
}

